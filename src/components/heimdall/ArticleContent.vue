<template>
  <div>
    <div class="loading animate__animated" ref="loading">
      <JumpLoading
        :src="require('@/assets/images/me.jpg')"
        alt=""
      ></JumpLoading>
    </div>
    <div class="article-background">
      <img
        :src="
          exist
            ? article_information.cover
            : require('@/assets/images/cover/default1.jpeg')
        "
        alt="文章封面"
      />
      <div
        style="
          width: 100%;
          display: flex;
          justify-content: center;
          position: absolute;
          bottom: 0px;
        "
        v-if="exist"
      >
        <div class="common-width article-title-layout">
          <b>{{ article_information.title }}</b>
          <div class="information-line">
            <div>
              <svg
                t="1708415750849"
                class="icon"
                viewBox="0 0 1423 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="7030"
                width="16"
                height="16"
              >
                <path
                  d="M313.777997 679.348265l49.523997 49.523997 116.060054-42.719173-122.990894-122.864878-42.593157 116.060054z"
                  fill="#fd4a6c"
                  p-id="7031"
                ></path>
                <path
                  d="M530.524243 0c-283.282304 0-512 228.717696-512 512S247.241939 1024 530.524243 1024s512-228.717696 512-512c0-281.51809-228.717696-512-512-512zM504.943145 711.734187c-1.764214 1.764214-3.402412 1.764214-5.166625 3.402412l-235.52252 85.31233c-6.804824 1.764214-13.609648 0-17.012061-3.402412-5.166626-5.166626-6.804824-11.97145-3.402412-17.01206l85.312331-235.52252c0-1.764214 1.764214-3.402412 3.402412-5.166626l209.941423-213.343834c22.178686 22.178686 42.719173 40.954959 42.719173 40.954959L419.630815 532.540487c-3.402412 3.402412-3.402412 6.804824-3.402412 10.207236 0 3.402412 1.764214 6.804824 3.402412 10.207236 3.402412 1.764214 6.804824 3.402412 10.207236 3.402412 3.402412 0 6.804824-1.764214 10.207236-3.402412l165.584051-165.584051 52.926409 51.162196-165.584051 165.710066c-5.166626 5.166626-5.166626 13.609648 0 18.776274 1.764214 1.764214 6.804824 3.402412 10.207236 3.402412 3.402412 0 6.804824-1.764214 10.207236-3.402412l165.584051-165.584051 40.954959 40.954959L504.943145 711.734187z m297.017967-297.017967l-66.536057 66.536057L561.271967 307.225203l66.536057-66.536057c23.942899-23.942899 63.133645-23.942899 85.31233 0l87.076545 87.076544c25.581098 23.816884 25.581098 63.133645 1.764213 86.95053z"
                  fill="#fd4a6c"
                  p-id="7032"
                ></path></svg
              >{{ article_information.author.username }}
            </div>
            ·
            <div>
              <svg
                t="1708416094649"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="13570"
                width="16"
                height="16"
              >
                <path
                  d="M153.6 307.2h716.8v512H153.6z"
                  fill="#A0DBF2"
                  p-id="13571"
                ></path>
                <path
                  d="M179.2 818.9952h-51.2v-460.8a76.8 76.8 0 0 1 76.8-76.8h665.6a77.2608 77.2608 0 0 1 25.6 4.4032v70.4a25.9072 25.9072 0 0 0-25.6-23.7056H204.8a25.6 25.6 0 0 0-25.6 25.6v460.8z"
                  fill="#003B73"
                  opacity=".2"
                  p-id="13572"
                ></path>
                <path
                  d="M179.2 435.2H870.4v51.2H179.2z"
                  fill="#003B73"
                  opacity=".2"
                  p-id="13573"
                ></path>
                <path
                  d="M179.2 870.4A76.8 76.8 0 0 1 102.4 793.6v-460.8A76.8 76.8 0 0 1 179.2 256H307.2V179.2a25.6 25.6 0 0 1 25.6-25.6 25.6 25.6 0 0 1 25.6 25.6V256h307.2V179.2a25.6 25.6 0 0 1 25.6-25.6 25.6 25.6 0 0 1 25.6 25.6V256h128A76.8 76.8 0 0 1 921.6 332.8v460.8a76.8 76.8 0 0 1-76.8 76.8zM153.6 793.6a25.6 25.6 0 0 0 25.6 25.6h665.6a25.6 25.6 0 0 0 25.6-25.6V460.8H153.6zM870.4 409.6V332.8a25.6 25.6 0 0 0-25.6-25.6H716.8v25.6a25.6 25.6 0 0 1-25.6 25.6 25.6 25.6 0 0 1-25.6-25.6V307.2H358.4v25.6a25.6 25.6 0 0 1-25.6 25.6 25.6 25.6 0 0 1-25.6-25.6V307.2H179.2a25.6 25.6 0 0 0-25.6 25.6V409.6z m-281.6 256a25.6 25.6 0 0 1-25.6-25.6 25.6 25.6 0 0 1 25.6-25.6h153.6a25.6 25.6 0 0 1 25.6 25.6 25.6 25.6 0 0 1-25.6 25.6z m-307.2 0a25.6 25.6 0 0 1-25.6-25.6 25.6 25.6 0 0 1 25.6-25.6h153.6a25.6 25.6 0 0 1 25.6 25.6 25.6 25.6 0 0 1-25.6 25.6z"
                  fill="#003B73"
                  p-id="13574"
                ></path></svg
              >{{ article_information.create_time }}
            </div>
            ·
            <div>
              <svg
                t="1708415514478"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="3472"
                width="16"
                height="16"
              >
                <path
                  d="M504.32 519.8336m-450.816 0a450.816 450.816 0 1 0 901.632 0 450.816 450.816 0 1 0-901.632 0Z"
                  fill="#FF5C64"
                  p-id="3473"
                ></path>
                <path
                  d="M798.6176 428.3904c-5.2224-21.5552-24.9856-57.3952-45.4656-86.8864-9.0112-12.9536-28.9792-9.7792-33.6896 5.3248-7.3728 23.3472-19.0976 50.176-39.4752 74.2912-3.7376 4.4032-11.008 2.1504-11.3664-3.6352-3.8912-59.7504-32.2048-214.2208-231.8848-235.9296-13.7728-1.4848-24.5248 11.8784-20.0192 24.9856 15.0528 44.032 27.136 128.6656-41.8304 180.5312-2.816 2.0992-6.7072 1.3824-8.9088-1.3312-22.9888-29.2864-51.6608-47.2576-90.5216-54.528-13.568-2.5088-24.9856 9.8304-21.8624 23.296 6.0416 25.9584 8.5504 70.2464-16.1792 130.56-41.5232 101.12-89.3952 345.344 291.584 345.344s276.9408-371.7632 269.6192-402.0224z m-444.7744 272.896a30.27968 30.27968 0 0 1-42.8544-1.4336c-50.7392-54.272-28.672-155.4944-26.0096-166.8608 3.84-16.2816 20.1728-26.4192 36.4544-22.528a30.2592 30.2592 0 0 1 22.528 36.4032c-4.8128 20.6848-13.056 85.504 11.264 111.5648 11.4688 12.2368 10.8544 31.4368-1.3824 42.8544z"
                  fill="#FFFFFF"
                  p-id="3474"
                ></path></svg
              >{{ article_information.views }}
            </div>
            ·
            <div>
              <svg
                t="1708419310314"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="15511"
                width="16"
                height="16"
              >
                <path
                  d="M617.124 221.773h216.33c46.153 77.632 34.733 47.996 34.733 102.145l1.222 300.283c0 54.147-2.021 76.737-43.955 104.179H486.277l-57.332 10.007-145.402 120.719 13.382-114.904 6.127-12.256c-54.148 0-74.232-47.471-74.232-101.619V319.824c0-54.148 43.879-98.051 98.051-98.051h290.253z"
                  fill="#31D3FF"
                  p-id="15512"
                ></path>
                <path
                  d="M162.607 468.936c-13.537 0-24.513-10.964-24.513-24.514v-59.223c0-13.548 10.976-24.513 24.513-24.513s24.513 10.964 24.513 24.513v59.223c0 13.55-10.976 24.514-24.513 24.514z"
                  fill="#213847"
                  p-id="15513"
                ></path>
                <path
                  d="M283.543 883.619c-3.28 0-6.583-0.646-9.707-2.011a24.507 24.507 0 0 1-14.806-22.693l0.802-106.022c-67.207-0.456-121.738-55.25-121.738-122.565v-120.53c0-13.549 10.976-24.512 24.513-24.512s24.513 10.963 24.513 24.512v120.529c0 40.552 32.987 73.539 73.539 73.539h23.867a24.506 24.506 0 0 1 17.403 7.254 24.5 24.5 0 0 1 7.11 17.45l-0.55 72.725 94.652-90.631a24.542 24.542 0 0 1 16.949-6.798h347.176c40.553 0 73.539-32.987 73.539-73.539V319.824c0-40.551-32.986-73.539-73.539-73.539H260.658c-40.551 0-73.539 32.987-73.539 73.539 0 13.549-10.976 24.513-24.513 24.513s-24.513-10.963-24.513-24.513c0-67.578 54.986-122.564 122.564-122.564h506.605c67.578 0 122.565 54.986 122.565 122.564v310.503c0 67.579-54.987 122.565-122.565 122.565H429.926L300.492 876.821a24.52 24.52 0 0 1-16.949 6.798z"
                  fill="#213847"
                  p-id="15514"
                ></path>
                <path
                  d="M755.009 447.703h-484.32c-13.537 0-24.513-10.964-24.513-24.513 0-13.549 10.976-24.513 24.513-24.513h484.32c13.537 0 24.512 10.963 24.512 24.513 0 13.549-10.975 24.513-24.512 24.513zM640.607 562.894H270.665c-13.538 0-24.513-10.964-24.513-24.512 0-13.55 10.976-24.514 24.513-24.514h369.942c13.537 0 24.512 10.964 24.512 24.514 0 13.548-10.974 24.512-24.512 24.512z"
                  fill="#213847"
                  p-id="15515"
                ></path></svg
              >{{ article_comments.count }}
            </div>
            ·
            <div>
              <svg
                t="1708419382959"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="16516"
                width="16"
                height="16"
              >
                <path
                  d="M895.36 243.904a251.52 251.52 0 0 0-355.776 0l-20.096 20.096-20.096-20.096A251.52 251.52 0 0 0 143.616 599.68S466.24 926.72 512 928c14.336 0.384 86.4-59.52 164.224-128.192l-0.512-0.64a22.016 22.016 0 0 0-11.968-40.896 21.76 21.76 0 0 0-14.784 5.888l-0.064-0.064 62.336-56.832a22.08 22.08 0 0 0-7.808 16.704 22.4 22.4 0 0 0 22.4 22.464c5.44 0 10.24-2.176 14.208-5.44l0.256 0.32 50.048-45.76-0.448-0.448a22.08 22.08 0 0 0-16.768-36.992 21.952 21.952 0 0 0-14.656 5.824l80.384-73.472 0.512 0.512a22.08 22.08 0 0 0-5.696 14.592 22.4 22.4 0 0 0 22.4 22.464 22.016 22.016 0 0 0 14.272-5.504l0.32 0.384 24.832-23.168a251.776 251.776 0 0 0-0.128-355.84z"
                  fill=""
                  p-id="16517"
                ></path>
                <path
                  d="M510.976 878.656c-51.008-33.344-207.168-180.416-335.488-310.528a206.976 206.976 0 0 1-0.192-292.544c39.04-39.104 91.008-60.608 146.24-60.608s107.136 21.504 146.176 60.544l51.84 51.84 51.84-51.776c39.04-39.04 90.944-60.544 146.176-60.544s107.2 21.504 146.176 60.544c39.04 39.04 60.544 90.944 60.544 146.24s-21.504 107.136-60.544 146.176c-140.096 131.776-301.76 276.032-352.768 310.656z"
                  fill="#FF5F5F"
                  p-id="16518"
                ></path>
                <path
                  d="M308.032 641.984a15.872 15.872 0 0 1-10.112-3.648 757.12 757.12 0 0 1-53.504-48.896 875.968 875.968 0 0 0-25.856-24.64C141.376 495.488 145.344 423.616 145.536 420.544 143.808 318.976 237.376 264.64 241.344 262.4a16 16 0 0 1 15.808 27.84c-0.832 0.448-81.088 47.488-79.744 131.2-0.064 3.648-2.368 61.248 62.528 119.552 8.704 7.808 17.536 16.448 26.816 25.536 15.616 15.36 31.808 31.168 51.328 47.104a15.936 15.936 0 1 1-10.048 28.352zM422.656 751.36a15.872 15.872 0 0 1-11.2-4.544l-61.312-60.032a16 16 0 1 1 22.4-22.912l61.312 60.032a16 16 0 0 1-11.2 27.456z"
                  fill="#FFFFFF"
                  p-id="16519"
                ></path></svg
              >{{ article_information.like }}
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="article-content" id="content">
      <div v-if="exist" class="common-width">
        <div class="article-layout">
          <div class="content-toolset">
            <div class="inner__toolset" id="toolsets">
              <div class="share-article toolset-item">
                <button id="share">
                  <svg
                    t="1708692437754"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="14804"
                    width="16"
                    height="16"
                  >
                    <path
                      d="M761.584893 867.153766 262.451946 867.153766c-74.222445 0-134.401036-60.161195-134.401036-134.382617L128.050909 329.624323c0-74.221422 60.179614-134.382617 134.401036-134.382617l38.395472 0 0 1.930979c11.117199 3.993964 19.197224 14.361079 19.197224 26.865881 0 12.494569-8.080026 22.87294-19.197224 26.856671l0 1.939165-38.395472 0c-42.406832 0-76.78992 34.383088-76.78992 76.790944l0 403.145803c0 42.407855 34.383088 76.790944 76.78992 76.790944l499.133971 0c42.406832 0 76.78992-34.383088 76.78992-76.790944L838.375837 464.005916l1.933025 0c3.992941-11.135618 14.360056-19.197224 26.861788-19.197224 12.507872 0 22.87294 8.060583 26.867928 19.197224l1.910513 0 0 268.76421C895.948067 806.992571 835.806315 867.153766 761.584893 867.153766zM550.412356 329.624323c-84.830037 0-153.596214 68.766177-153.596214 153.579841l0 153.579841-1.913583 0c1.069355 3.037173 1.913583 6.185886 1.913583 9.596566 0 15.899108-12.880355 28.798906-28.77844 28.798906-15.916505 0-28.815279-12.898775-28.815279-28.798906 0-3.41068 0.861624-6.559393 1.950422-9.596566l-1.950422 0L339.222423 483.204164c0-116.628254 94.562702-211.172537 211.18891-211.172537l207.198016 0-62.259996-62.251809 1.407046-1.396813c-7.068999-5.248537-11.961426-13.253862-11.961426-22.740934 0-15.898085 12.879332-28.795836 28.79686-28.795836 10.143011 0 18.614963 5.54939 23.75196 13.469779l101.724823 101.715613-0.335644 0.336668 57.215096 57.256028L550.412356 329.624323z"
                      fill="#ffffff"
                      p-id="14805"
                    ></path>
                  </svg>
                </button>
              </div>
              <div :class="{ 'like-article': false, 'toolset-item': true }">
                <button @click="LikeArticle" id="like">
                  <svg
                    t="1708692186720"
                    class="icon"
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="12842"
                    width="16"
                    height="16"
                  >
                    <path
                      d="M882.05000029 196.79000029A270 270 0 0 0 512 188.63a270 270 0 0 0-370.19999971 8.16000029 264.33 264.33 0 0 0 0 376.29L451.99999971 880.37a84.21000029 84.21000029 0 0 0 120.00000058 0l310.05-307.01999971a264.30000029 264.30000029 0 0 0 0-376.56zM842.00000029 533.51L531.86000029 840.79999971a28.10999971 28.10999971 0 0 1-39.84000029 0L181.63999971 533.51a208.77000029 208.77000029 0 0 1 0-297 213.00000029 213.00000029 0 0 1 292.14-4.77L512 264.41l37.8-32.82000029a213.00000029 213.00000029 0 0 1 292.14 6.00000029 208.77000029 208.77000029 0 0 1 0 295.76999971z m0 0"
                      p-id="12843"
                      fill="#ffffff"
                    ></path>
                    <path
                      d="M322.52000029 259.64a119.27999971 119.27999971 0 0 0-119.28000058 119.25 14.04 14.04 0 1 0 28.08 0 91.19999971 91.19999971 0 0 1 91.20000058-91.19999971 14.04 14.04 0 1 0 0-28.05000029z m0 0"
                      p-id="12844"
                      fill="#ffffff"
                    ></path>
                  </svg>
                </button>
              </div>
            </div>
          </div>
          <el-card class="content">
            <MdPreview
              :editorId="id"
              :modelValue="article_information.content"
              previewTheme="mk-cute"
            />
            <div>
              <span style="font-size: 14px; color: rgb(171, 171, 171)"
                >本文章最后修改于{{ article_information.update_time }}</span
              >
            </div>
            <hr />
            <div class="article-comment">
              <div class="comment-title">
                <svg
                  t="1708422392696"
                  class="icon"
                  viewBox="0 0 1214 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="7796"
                  width="32"
                  height="32"
                >
                  <path
                    d="M964.352982 196.442274H250.01744A53.575166 53.575166 0 0 0 196.442274 250.01744v339.309382A53.575166 53.575166 0 0 0 250.01744 642.901988h214.300663l117.508196 117.508197a35.716777 35.716777 0 0 0 50.717824 0L750.052319 642.901988h214.300663a53.575166 53.575166 0 0 0 53.575166-53.575166V250.01744A53.575166 53.575166 0 0 0 964.352982 196.442274z"
                    fill="#FFC824"
                    p-id="7797"
                  ></path>
                  <path
                    d="M607.185211 477.53331a35.716777 35.716777 0 0 1-35.716777-35.716777v-53.575166a35.716777 35.716777 0 1 1 71.433554 0v53.575166a35.716777 35.716777 0 0 1-35.716777 35.716777zM383.955354 477.53331a35.716777 35.716777 0 0 1-35.716777-35.716777v-53.575166a35.716777 35.716777 0 1 1 71.433554 0v53.575166a35.716777 35.716777 0 0 1-35.716777 35.716777zM830.415068 477.53331a35.716777 35.716777 0 0 1-35.716777-35.716777v-53.575166a35.716777 35.716777 0 1 1 71.433554 0v53.575166a35.716777 35.716777 0 0 1-35.716777 35.716777zM361.453784 71.433554h-17.858388a35.716777 35.716777 0 0 1 0-71.433554h17.858388a35.716777 35.716777 0 0 1 0 71.433554z"
                    fill="#6B400D"
                    p-id="7798"
                  ></path>
                  <path
                    d="M607.185211 1024a107.150331 107.150331 0 0 1-75.719567-31.430764l-153.224974-153.224974H142.867108a142.867108 142.867108 0 0 1-142.867108-142.867108V142.867108a142.867108 142.867108 0 0 1 142.867108-142.867108h53.575166a35.716777 35.716777 0 0 1 0 71.433554H142.867108a71.433554 71.433554 0 0 0-71.433554 71.433554v553.610046a71.433554 71.433554 0 0 0 71.433554 71.433554h250.01744a35.716777 35.716777 0 0 1 25.358912 10.357865l163.582839 163.940007a35.716777 35.716777 0 0 0 50.717824 0l163.582839-163.940007a35.716777 35.716777 0 0 1 25.358912-10.357865h250.01744a71.433554 71.433554 0 0 0 71.433554-71.433554V142.867108a71.433554 71.433554 0 0 0-71.433554-71.433554H535.751657a35.716777 35.716777 0 0 1 0-71.433554h535.751657a142.867108 142.867108 0 0 1 142.867108 142.867108v553.610046a142.867108 142.867108 0 0 1-142.867108 142.867108h-235.373562l-153.224973 153.224974a107.150331 107.150331 0 0 1-75.719568 31.430764z"
                    fill="#6B400D"
                    p-id="7799"
                  ></path></svg
                >评论
              </div>
              <div class="comment">
                <el-input
                  v-model="comment"
                  type="textarea"
                  :rows="6"
                ></el-input>
                <div class="comment-toolset">
                  <div></div>
                  <el-button color="#ffb41c" class="comment-submit"
                    >提交</el-button
                  >
                </div>
                <div>
                  <div style="font-weight: bold">
                    <span style="margin-right: 8px">Comments</span>|<span
                      style="margin-left: 8px"
                      >{{ article_comments.count }}条留言</span
                    >
                  </div>
                  <div class="comment-list">
                    <div
                      class="comment-item"
                      v-for="comment in article_comments.results"
                    >
                      <CommentView
                        :user="comment.creator"
                        :date="comment.create_time"
                        :content="comment.content"
                        :comment_id="comment.id"
                        :address="comment.city"
                        :article_id="article_id"
                        :subcomment="comment.sub_comment"
                        :belong="comment.id"
                      ></CommentView>
                    </div>
                  </div>
                </div>
              </div>
              <el-pagination
                background
                layout="prev, pager, next"
                :total="article_comments.count"
              />
            </div>
          </el-card>
          <div class="aside-catalog">
            <el-card class="sticky-layout" id="catalog">
              <div
                style="display: flex; align-items: center; margin-bottom: 3px"
              >
                <svg
                  t="1708414721826"
                  class="icon"
                  viewBox="0 0 1024 1024"
                  version="1.1"
                  xmlns="http://www.w3.org/2000/svg"
                  p-id="2399"
                  width="20"
                  height="20"
                  style="margin-right: 2px"
                >
                  <path
                    d="M91.89 238.457c-29.899 0-54.133 24.239-54.133 54.134 0 29.899 24.234 54.137 54.133 54.137s54.138-24.238 54.138-54.137c0-29.896-24.239-54.134-54.138-54.134z"
                    fill="#E5594F"
                    p-id="2400"
                  ></path>
                  <path
                    d="M91.89 462.463c-29.899 0-54.133 24.239-54.133 54.139 0 29.895 24.234 54.133 54.133 54.133s54.138-24.238 54.138-54.133c0-29.9-24.239-54.139-54.138-54.139z"
                    fill="#C45FA0"
                    p-id="2401"
                  ></path>
                  <path
                    d="M91.89 686.475c-29.899 0-54.133 24.237-54.133 54.133 0 29.899 24.234 54.138 54.133 54.138s54.138-24.238 54.138-54.138c0-29.896-24.239-54.133-54.138-54.133z"
                    fill="#F39A2B"
                    p-id="2402"
                  ></path>
                  <path
                    d="M941.26 234.723H328.964c-28.867 0-52.263 23.4-52.263 52.268v3.734c0 28.868 23.396 52.269 52.263 52.269H941.26c28.869 0 52.269-23.401 52.269-52.269v-3.734c-0.001-28.868-23.4-52.268-52.269-52.268z"
                    fill="#F0D043"
                    p-id="2403"
                  ></path>
                  <path
                    d="M941.26 682.74H328.964c-28.867 0-52.263 23.399-52.263 52.268v3.734c0 28.863 23.396 52.269 52.263 52.269H941.26c28.869 0 52.269-23.405 52.269-52.269v-3.734c-0.001-28.868-23.4-52.268-52.269-52.268z"
                    fill="#4A5699"
                    p-id="2404"
                  ></path>
                  <path
                    d="M709.781 458.729H328.964c-28.867 0-52.263 23.4-52.263 52.269v3.734c0 28.873 23.396 52.269 52.263 52.269h380.817c28.866 0 52.271-23.396 52.271-52.269v-3.734c0.001-28.869-23.405-52.269-52.271-52.269z"
                    fill="#E5594F"
                    p-id="2405"
                  ></path>
                </svg>
                <span><b>目录</b></span>
              </div>
              <MdCatalog :editorId="id" :scrollElement="scrollElement" />
            </el-card>
          </div>
        </div>
      </div>
      <div v-else style="margin: auto">
        <div class="not-found-article">
          <img :src="require('@/assets/images/cover/404_bg.png')" />
          <div>抱歉！文章内容未找到！</div>
        </div>
      </div>
    </div>
  </div>
</template>
<script setup>
import { useRoute } from "vue-router";
import { onMounted, onUnmounted, ref } from "vue";
import requests from "@/request/request";
import "@/assets/css/articleContent.css";
import CommentView from "./CommentView.vue";
import { MdPreview, MdCatalog } from "md-editor-v3";
import { ElMessage } from "element-plus";
import JumpLoading from "../loading/JumpLoading.vue";
const route = useRoute();
const article_id = route.params.id;
const url = "/api/article/" + String(article_id);
const id = "preview-only";
const scrollElement = document.documentElement;
var comment = ref("");
var exist = ref(false); // 判断文章是否存在
var loading = ref(); // 加载动画元素dom
var article_information = ref({}); // 文章信息
var article_comments = ref({});

function LikeArticle() {
  requests({
    method: "post",
    Headers: { "Content-Type": "multipart/form-data" },
    url: "/api/article/like/",
    data: { article_id: article_id },
  }).then((res) => {
    if (res.data.code === 10000) {
      ElMessage.success(res.data.data);
    } else {
      ElMessage.error(res.data.data);
    }
  });
}

function getArticle() {
  requests({
    method: "get",
    url: url,
    data: { article_id: article_id },
  }).then((res) => {
    loading.value.classList.add("animate__fadeOut"); // 关闭加载动画
    setTimeout(() => {
      loading.value.style.display = "none";
    }, 1000);
    if (res.data.code == 10000) {
      exist.value = true;
      article_information.value = res.data.data;
    }
  });
}

function getComment() {
  requests({
    method: "get",
    Headers: { "Content-Type": "multipart/form-data" },
    url: "/api/article/comment/" + String(article_id),
  }).then((res) => {
    article_comments.value = res.data;
  });
}
function init() {
  getArticle();
  getComment();
}
init();
const scroll_function = () => {
  var scroll_height = document.documentElement.scrollTop;
  let dom = document.getElementById("catalog");
  if (dom && scroll_height > dom.offsetTop) {
    dom.classList.add("fix-catalog");
  }
};
onMounted(() => {
  window.addEventListener("scroll", scroll_function);
});

onUnmounted(() => {
  window.removeEventListener("scroll", scroll_function);
});
</script>
