<template>
  <section style="min-height: 100vh">
    <div
      style="
        display: flex;
        height: 100vh;
        justify-content: center;
        align-items: center;
      "
    >
      <div style="background-color: #252525; opacity: 0.8">
        <div class="text">
          <span id="typingtext"></span>
        </div>
      </div>
    </div>
    <div>
      <svg
        class="waves"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        viewBox="0 24 150 28"
        preserveAspectRatio="none"
        shape-rendering="auto"
      >
        <defs>
          <path
            id="gentle-wave"
            d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"
          />
        </defs>
        <g class="parallax">
          <use
            xlink:href="#gentle-wave"
            x="48"
            y="0"
            fill="rgba(255, 255, 255, 0.7)"
          />
          <use
            xlink:href="#gentle-wave"
            x="48"
            y="3"
            fill="rgba(255, 255, 255, 0.5)"
          />
          <use
            xlink:href="#gentle-wave"
            x="48"
            y="5"
            fill="rgba(255, 255, 255, 0.3)"
          />
          <use xlink:href="#gentle-wave" x="48" y="7" fill="#ffffff" />
        </g>
      </svg>
    </div>
  </section>
  <section style="height: 3000px; background-color: white">
    <div class="layout">
      <div class="post-content">
        <el-carousel indicator-position="outside">
          <el-carousel-item v-for="item in 4" :key="item">
            <h3 text="2xl" justify="center">{{ item }}</h3>
          </el-carousel-item>
        </el-carousel>
      </div>
      <div class="aside-card">
        <el-card class="card-layout is-center"
          ><div>
            <el-avatar
              :src="require('@/assets/images/logo/avatar.jpg')"
              :size="110"
            />
            <b><div style="font-size: 22px">Heimdall</div></b>
            <div>
              <span>
                所有漂泊不定的人，都想找个可以称作＂家＂的地方吧。
                --《龙族》</span
              >
            </div>
          </div>
          <div class="site-data is-center">
            <a href="#"
              ><div>文章</div>
              <div>0</div></a
            >
            <a href="#">
              <div>分类</div>
              <div>0</div>
            </a>
            <a href="#"
              ><div>访问量</div>
              <div>0</div></a
            >
          </div>
          <div class="is-center social-icons">
            <a href="#" target="_blank" title="微信"
              ><svg
                t="1707321887895"
                class="icon"
                viewBox="0 0 1025 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="1021"
                width="24"
                height="24"
              >
                <path
                  d="M1024.16 694.816c0-149.92-143.104-271.392-319.584-271.392-176.576 0-319.68 121.504-319.68 271.392S528 966.208 704.576 966.208c55.456 0 107.648-12.096 153.184-33.248l125.984 54.528-14.592-140.544c34.784-43.392 55.04-95.808 55.04-152.128zM596.832 621.28c-25.152 0-45.472-20.352-45.472-45.472s20.32-45.472 45.472-45.472c25.12 0 45.44 20.384 45.44 45.472s-20.384 45.472-45.44 45.472z m215.392 0c-25.056 0-45.44-20.352-45.44-45.472s20.384-45.472 45.44-45.472c25.184 0 45.536 20.384 45.536 45.472s-20.352 45.472-45.536 45.472zM704.576 387.488c49.376 0 96.416 8.8 139.264 24.64 0.32-5.728 0.992-11.232 0.992-16.992 0-198.08-189.152-358.624-422.432-358.624C189.184 36.512 0.032 197.024 0.032 395.136c0 74.496 26.816 143.776 72.704 201.12L53.472 781.92l166.432-72.096c41.216 19.2 86.784 32.16 134.88 38.784-3.616-17.504-5.824-35.424-5.824-53.792 0.032-169.44 159.552-307.296 355.616-307.296z m-139.808-209.6c33.184 0 60 26.88 60 60 0 33.184-26.816 60.064-60 60.064s-60.032-26.88-60.032-60.064c0-33.152 26.88-60 60.032-60zM280.032 297.952c-33.184 0-60-26.88-60-60.064 0-33.152 26.848-60 60-60 33.184 0 60.032 26.88 60.032 60s-26.88 60.064-60.032 60.064z"
                  fill="#51C332"
                  p-id="1022"
                ></path>
              </svg> </a
            ><a href="#" target="_blank" title="Gitee"
              ><svg
                t="1707321817722"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="1737"
                width="24"
                height="24"
              >
                <path
                  d="M512 960A448 448 0 1 1 512 64a448 448 0 0 1 0 896z m226.752-497.792H484.352a22.144 22.144 0 0 0-22.144 22.144v55.296c0 12.224 9.92 22.144 22.08 22.144h154.88c12.288 0 22.144 9.92 22.144 22.08v11.072c0 36.672-29.696 66.368-66.368 66.368H384.768a22.144 22.144 0 0 1-22.08-22.08V429.056c0-36.672 29.696-66.368 66.304-66.368h309.76c12.16 0 22.08-9.92 22.08-22.144v-55.296a22.144 22.144 0 0 0-22.08-22.144h-309.76a165.888 165.888 0 0 0-165.888 165.952v309.696c0 12.224 9.92 22.144 22.144 22.144h326.272a149.312 149.312 0 0 0 149.376-149.312V484.352a22.144 22.144 0 0 0-22.144-22.144z"
                  fill="#C71D23"
                  p-id="1738"
                ></path></svg></a
            ><a href="#" target="_blank" title="Github"
              ><svg
                t="1707321292283"
                class="icon"
                viewBox="0 0 1024 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="6212"
                width="24"
                height="24"
              >
                <path
                  d="M511.968 73.152q119.424 0 220.288 58.848t159.712 159.712 58.848 220.288q0 143.424-83.712 258.016t-216.288 158.56q-15.424 2.848-22.848-4t-7.424-17.152q0-1.728 0.288-43.712t0.288-76.864q0-55.424-29.728-81.152 32.576-3.424 58.56-10.272t53.728-22.272 46.272-38.016 30.272-60 11.712-86.016q0-68-45.152-117.728 21.152-52-4.576-116.576-16-5.152-46.272 6.272t-52.576 25.152l-21.728 13.728q-53.152-14.848-109.728-14.848t-109.728 14.848q-9.152-6.272-24.288-15.424t-47.712-22.016-48.576-7.712q-25.728 64.576-4.576 116.576-45.152 49.728-45.152 117.728 0 48.576 11.712 85.728t30.016 60 46.016 38.272 53.728 22.272 58.56 10.272q-22.272 20.576-28 58.848-12 5.728-25.728 8.576t-32.576 2.848-37.44-12.288-31.712-35.712q-10.848-18.272-27.712-29.728t-28.288-13.728l-11.424-1.728q-12 0-16.576 2.56t-2.848 6.56 5.152 8 7.424 6.848l4 2.848q12.576 5.728 24.864 21.728t18.016 29.152l5.728 13.152q7.424 21.728 25.152 35.136t38.272 17.152 39.712 4 31.712-2.016l13.152-2.272q0 21.728 0.288 50.56t0.288 31.136q0 10.272-7.424 17.152t-22.848 4q-132.576-44-216.288-158.56t-83.712-258.016q0-119.424 58.848-220.288t159.712-159.712 220.288-58.848zM239.392 703.424q1.728-4-4-6.848-5.728-1.728-7.424 1.152-1.728 4 4 6.848 5.152 3.424 7.424-1.152zM257.12 722.848q4-2.848-1.152-9.152-5.728-5.152-9.152-1.728-4 2.848 1.152 9.152 5.728 5.728 9.152 1.728zM274.272 748.576q5.152-4 0-10.848-4.576-7.424-9.728-3.424-5.152 2.848 0 10.272t9.728 4zM298.272 772.576q4.576-4.576-2.272-10.848-6.848-6.848-11.424-1.728-5.152 4.576 2.272 10.848 6.848 6.848 11.424 1.728zM330.848 786.848q1.728-6.272-7.424-9.152-8.576-2.272-10.848 4t7.424 8.576q8.576 3.424 10.848-3.424zM366.848 789.728q0-7.424-9.728-6.272-9.152 0-9.152 6.272 0 7.424 9.728 6.272 9.152 0 9.152-6.272zM399.968 784q-1.152-6.272-10.272-5.152-9.152 1.728-8 8.576t10.272 4.576 8-8z"
                  p-id="6213"
                ></path></svg></a
            ><a href="#" target="_blank" title="bilibili哔哩哔哩"
              ><svg
                t="1707321972141"
                class="icon"
                viewBox="0 0 1129 1024"
                version="1.1"
                xmlns="http://www.w3.org/2000/svg"
                p-id="2106"
                width="24"
                height="24"
              >
                <path
                  d="M234.909 9.656a80.468 80.468 0 0 1 68.398 0 167.374 167.374 0 0 1 41.843 30.578l160.937 140.82h115.07l160.936-140.82a168.983 168.983 0 0 1 41.843-30.578A80.468 80.468 0 0 1 930.96 76.445a80.468 80.468 0 0 1-17.703 53.914 449.818 449.818 0 0 1-35.406 32.187 232.553 232.553 0 0 1-22.531 18.508h100.585a170.593 170.593 0 0 1 118.289 53.109 171.397 171.397 0 0 1 53.914 118.288v462.693a325.897 325.897 0 0 1-4.024 70.007 178.64 178.64 0 0 1-80.468 112.656 173.007 173.007 0 0 1-92.539 25.75h-738.7a341.186 341.186 0 0 1-72.421-4.024A177.835 177.835 0 0 1 28.91 939.065a172.202 172.202 0 0 1-27.36-92.539V388.662a360.498 360.498 0 0 1 0-66.789A177.03 177.03 0 0 1 162.487 178.64h105.414c-16.899-12.07-31.383-26.555-46.672-39.43a80.468 80.468 0 0 1-25.75-65.984 80.468 80.468 0 0 1 39.43-63.57M216.4 321.873a80.468 80.468 0 0 0-63.57 57.937 108.632 108.632 0 0 0 0 30.578v380.615a80.468 80.468 0 0 0 55.523 80.469 106.218 106.218 0 0 0 34.601 5.632h654.208a80.468 80.468 0 0 0 76.444-47.476 112.656 112.656 0 0 0 8.047-53.109v-354.06a135.187 135.187 0 0 0 0-38.625 80.468 80.468 0 0 0-52.304-54.719 129.554 129.554 0 0 0-49.89-7.242H254.22a268.764 268.764 0 0 0-37.82 0z m0 0"
                  fill="#20B0E3"
                  p-id="2107"
                ></path>
                <path
                  d="M348.369 447.404a80.468 80.468 0 0 1 55.523 18.507 80.468 80.468 0 0 1 28.164 59.547v80.468a80.468 80.468 0 0 1-16.094 51.5 80.468 80.468 0 0 1-131.968-9.656 104.609 104.609 0 0 1-10.46-54.719v-80.468a80.468 80.468 0 0 1 70.007-67.593z m416.02 0a80.468 80.468 0 0 1 86.102 75.64v80.468a94.148 94.148 0 0 1-12.07 53.11 80.468 80.468 0 0 1-132.773 0 95.757 95.757 0 0 1-12.875-57.133V519.02a80.468 80.468 0 0 1 70.007-70.812z m0 0"
                  fill="#20B0E3"
                  p-id="2108"
                ></path></svg
            ></a>
          </div>
        </el-card>
        <el-card class="is-center">
          <div class="card-title"><b>搜索</b></div>
          <div class="input">
            <input
              type="text"
              id="box"
              placeholder="搜索文章标题，内容"
              class="search__box"
            />
            <svg
              t="1707484506967"
              class="icon"
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="5998"
            >
              <path
                d="M483.0208 483.5328m-375.6544 0a375.6544 375.6544 0 1 0 751.3088 0 375.6544 375.6544 0 1 0-751.3088 0Z"
                fill="#7F9AFF"
                p-id="5999"
              ></path>
              <path
                d="M555.264 852.224c172.9024-33.6896 303.4112-185.9072 303.4112-368.64 0-191.3856-143.1552-349.2352-328.2432-372.5824 35.0208 15.0016 247.0912 116.736 257.4336 380.2112 1.792 88.9344-56.6784 271.6672-232.6016 361.0112z"
                fill="#5078FF"
                p-id="6000"
              ></path>
              <path
                d="M150.3232 561.8688a12.8 12.8 0 0 1-12.544-10.2912c-4.4544-22.528-6.7584-45.7216-6.7584-68.9152 0-122.2144 61.8496-234.0352 165.4784-299.1104 5.9904-3.7376 13.8752-1.9456 17.664 4.0448 3.7376 5.9904 1.9456 13.8752-4.0448 17.664C214.0672 265.5232 156.672 369.2544 156.672 482.6112c0 21.5552 2.0992 43.0592 6.2464 63.9488 1.3824 6.912-3.1232 13.6704-10.0864 15.0528-0.8192 0.1536-1.6384 0.256-2.5088 0.256zM376.32 172.6464c-5.376 0-10.3424-3.3792-12.1344-8.7552-2.2528-6.7072 1.3824-13.9776 8.0896-16.1792 11.1616-3.7376 22.6304-6.912 34.0992-9.472 6.912-1.536 13.7216 2.7648 15.3088 9.6768 1.536 6.912-2.7648 13.7216-9.6768 15.3088a320.8192 320.8192 0 0 0-31.5904 8.8064c-1.3824 0.3584-2.7648 0.6144-4.096 0.6144z"
                fill="#FFFFFF"
                p-id="6001"
              ></path>
              <path
                d="M280.2688 504.0128c-11.3152 0-20.48-9.1648-20.48-20.48 0-123.0848 100.1472-223.232 223.232-223.232 11.3152 0 20.48 9.1648 20.48 20.48s-9.1648 20.48-20.48 20.48c-100.5056 0-182.272 81.7664-182.272 182.272 0 11.3152-9.1648 20.48-20.48 20.48z"
                fill="#211D38"
                p-id="6002"
              ></path>
              <path
                d="M920.832 882.944l-140.7488-137.728c61.5936-69.8368 99.072-161.4336 99.072-261.6832 0-218.4192-177.7152-396.1344-396.1344-396.1344S86.8352 265.1136 86.8352 483.5328s177.7152 396.1344 396.1344 396.1344c103.5264 0 197.8368-39.936 268.4928-105.1648l140.6976 137.6768a20.48 20.48 0 0 0 14.336 5.8368c5.3248 0 10.6496-2.048 14.6432-6.144a20.41344 20.41344 0 0 0-0.3072-28.928zM127.7952 483.5328c0-195.84 159.3344-355.1744 355.1744-355.1744s355.1744 159.3344 355.1744 355.1744-159.3344 355.1744-355.1744 355.1744c-195.7888 0.0512-355.1744-159.3344-355.1744-355.1744z"
                fill="#211D38"
                p-id="6003"
              ></path>
              <path
                d="M917.4528 722.688m-36.1984 0a36.1984 36.1984 0 1 0 72.3968 0 36.1984 36.1984 0 1 0-72.3968 0Z"
                fill="#F9C47B"
                p-id="6004"
              ></path>
              <path
                d="M262.8608 911.1552c-2.2528 0-4.5056-0.4608-6.7072-1.4336-69.6832-30.5152-100.864-72.7552-102.144-74.5472a16.72704 16.72704 0 0 1 3.7376-23.3984c7.4752-5.4272 17.92-3.7888 23.3472 3.6864 0.512 0.6656 28.0064 37.0688 88.5248 63.5904 8.448 3.6864 12.3392 13.568 8.6016 22.0672a16.75776 16.75776 0 0 1-15.36 10.0352z"
                fill="#E2E5F1"
                p-id="6005"
              ></path>
              <path
                d="M444.0064 718.8992c-25.5488 0-46.336-20.7872-46.336-46.336 0-25.5488 20.7872-46.336 46.336-46.336 25.5488 0 46.336 20.7872 46.336 46.336 0.0512 25.5488-20.7872 46.336-46.336 46.336z m0-64.9216c-10.24 0-18.5344 8.3456-18.5344 18.5344s8.3456 18.5344 18.5344 18.5344c10.24 0 18.5344-8.3456 18.5344-18.5344s-8.2944-18.5344-18.5344-18.5344zM697.856 587.7248c-24.9344 0-45.2096-20.2752-45.2096-45.2096s20.2752-45.2096 45.2096-45.2096 45.2096 20.2752 45.2096 45.2096-20.2752 45.2096-45.2096 45.2096z m0-63.3344c-9.984 0-18.1248 8.1408-18.1248 18.1248s8.1408 18.1248 18.1248 18.1248 18.1248-8.1408 18.1248-18.1248-8.1408-18.1248-18.1248-18.1248zM377.856 544.768c-25.856 0-46.9504-21.0432-46.9504-46.9504 0-25.856 21.0432-46.9504 46.9504-46.9504s46.9504 21.0432 46.9504 46.9504-21.0944 46.9504-46.9504 46.9504z m0-65.7408c-10.3424 0-18.7904 8.448-18.7904 18.7904s8.448 18.7904 18.7904 18.7904 18.7904-8.448 18.7904-18.7904-8.448-18.7904-18.7904-18.7904z"
                fill="#97B5FF"
                p-id="6006"
              ></path>
            </svg>
          </div>
        </el-card>
      </div>
    </div>
  </section>
</template>
<script setup>
import { onMounted } from "vue";
import "@/assets/css/wave.css";
import "@/assets/css/homepage.css";

onMounted(() => {
  var typing = {
    el: document.getElementById("typingtext"),
    maxSpeed: 200, //最大输入速度
    minSpeed: 200, //最小输入速度
    textList: [
      "Welcome to Heimdall！！",
      "祝大家",
      "国庆节快乐哦",
      "Happy Every day",
    ], //输入文字集合
    listIndex: 0, //列表的索引
    text: "", //当前显示的句子文字
    tempText: "", //临时句子截取文字
    indexes: 0, //光标索引
    delSpeed: 100, //删除文字速度
    cursorText: "|", //光标文字
    wait: 2000, //文子输入完成后等待时间删除
    waitInput: 200, //等待n毫秒后开始输入
    timer: null, //定时器
    isStop: true, //是否停止
    cacheFun: null, //停止时函数记录

    cleanTimer() {
      //清除定时器
      if (this.timer) return;
      clearTimeout(this.timer);
      this.timer = null;
    },

    getRanSpeed() {
      //获取随机停止时间
      return (
        Math.floor(Math.random() * (this.maxSpeed - this.minSpeed + 1)) +
        this.minSpeed
      );
    },

    getNowText(i) {
      //设置并获取当前文字
      this.indexes = typeof i == "number" ? i : this.indexes;
      this.tempText = this.text.substr(0, this.indexes);
      return this.tempText;
    },

    waiting(ms) {
      //等待函数
      return new Promise((resolve, reject) => {
        typing.cleanTimer();
        typing.timer = setTimeout(resolve, ms);
      });
    },

    render(hc) {
      //设置 ‘el’的显示文字
      //等待的时候 变量hc为true 所以是不会显示光标的 所以css里面我自己给加了光标闪烁效果
      this.el.innerHTML /*innerText*/ =
        this.getNowText() + (hc ? "" : this.cursorText);
    },

    backspace() {
      //循环删除
      if (typing.indexes > 0) {
        typing.waiting(typing.delSpeed).then(() => {
          //删除
          typing.indexes--;
          typing.render();
          typing.backspace();
        });
      } else {
        //删除完成
        if (typing.listIndex >= typing.textList.length) typing.listIndex = 0;
        typing.text = typing.textList[typing.listIndex];
        typing.listIndex++;
        typing.waiting(typing.waitInput).then(typing.loop); //等待输入
      }
    },

    loop() {
      if (typing.text.length <= typing.indexes) {
        //当前文字打完了
        typing.render(true); //输出完成
        typing.waiting(typing.wait).then(typing.backspace); //等待删除
      } else {
        typing.indexes++; //设置下一次显示的文字索引
        typing.render(); //显示到页面
        typing.waiting(typing.getRanSpeed()).then(typing.loop); //等待删除
      }
    },

    start() {
      //开始
      typing.backspace();
    },
  };
  typing.start();
});
</script>
